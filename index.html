<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Finnish Passphrase Generator – Support</title>

  <!-- Anti-indexing hints (not a complete bot blocker, but reduces casual scraping) -->
  <meta name="robots" content="noindex, nofollow, noarchive, nosnippet" />
  <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet" />
  <meta name="bingbot" content="noindex, nofollow, noarchive, nosnippet" />
  <meta name="referrer" content="no-referrer" />

  <!-- Basic Content Security Policy (static-safe) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self' 'unsafe-inline';
                 style-src 'self' 'unsafe-inline';
                 img-src 'self' data:;
                 base-uri 'none';
                 form-action 'none';
                 frame-ancestors 'none';
                 upgrade-insecure-requests;" />

  <style>
    :root{
      --bg:#f5f5f7; --card:#ffffff; --text:#1c1c1e; --sub:#6e6e73;
      --line:#e5e5ea; --blue:#0078ff; --blue2:#005fcc; --chip:#f2f2f7;
    }
    *{box-sizing:border-box}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      margin:0; background:var(--bg); color:var(--text); line-height:1.6;
    }
    header{background:var(--card); border-bottom:1px solid var(--line); padding:18px 16px;}
    header .wrap{max-width:900px; margin:0 auto; display:flex; flex-direction:column; gap:6px;}
    h1{margin:0; font-size:1.65rem; font-weight:800;}
    .tagline{margin:0; color:var(--sub); font-size:0.95rem;}
    main{padding:20px 16px;}
    .wrap{max-width:900px; margin:0 auto;}
    .grid{display:grid; gap:14px; grid-template-columns:1fr;}
    @media (min-width:840px){ .grid{grid-template-columns:1fr 1fr;} }
    .card{
      background:var(--card); border:1px solid var(--line);
      border-radius:14px; padding:18px; box-shadow:0 2px 10px rgba(0,0,0,0.06);
    }
    h2{margin:0 0 10px 0; font-size:1.15rem;}
    p{margin:0 0 10px 0;}
    ul{margin:8px 0 0 18px; padding:0;}
    .muted{color:var(--sub); font-size:0.95rem;}
    .buttons{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px;}
    a.button, button.button{
      display:inline-flex; align-items:center; gap:8px;
      padding:11px 14px; border-radius:10px;
      text-decoration:none; font-weight:800; cursor:pointer;
      border:1px solid transparent;
      background:var(--blue); color:#fff;
    }
    a.button:hover, button.button:hover{background:var(--blue2);}
    a.secondary, button.secondary{
      background:var(--chip); color:var(--text);
      border:1px solid var(--line);
    }
    a.secondary:hover, button.secondary:hover{filter:brightness(0.98);}
    .chip{background:var(--chip); border:1px solid var(--line); border-radius:10px; padding:2px 8px; font-size:0.9rem;}
    details{border:1px solid var(--line); border-radius:12px; padding:12px; background:#fff;}
    summary{cursor:pointer; font-weight:800;}
    footer{padding:22px 16px; text-align:center; color:var(--sub); font-size:0.85rem;}
    .small{font-size:0.9rem;}
    .row{display:flex; flex-wrap:wrap; gap:8px; align-items:center;}
    .note{padding:10px 12px; border-radius:12px; background:#fff; border:1px solid var(--line);}
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <h1>Finnish Passphrase Generator – Support</h1>
    <p class="tagline">Help, contact, bug reports, licensing, and privacy policy.</p>
  </div>
</header>

<main>
  <div class="wrap">

    <script>
      // --- CONFIG (repo) ---
      const GH_USER = "arsirantala";
      const GH_REPO = "ixoths_finnish_passphrase_generator_ios_public";

      // Support email (split to reduce scraping; assembled only on click)
      const EMAIL_USER = "support";           // <- change if you want
      const EMAIL_DOMAIN = "example.com";     // <- change to your real domain

      const repoUrl = `https://github.com/${GH_USER}/${GH_REPO}`;
      const issuesUrl = `${repoUrl}/issues`;
      const releasesUrl = `${repoUrl}/releases`;

      window.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("[data-repo]").forEach(a => a.href = repoUrl);
        document.querySelectorAll("[data-issues]").forEach(a => a.href = issuesUrl);
        document.querySelectorAll("[data-releases]").forEach(a => a.href = releasesUrl);
        document.getElementById("repoName").textContent = `${GH_USER}/${GH_REPO}`;

        // Email button: assemble mailto only when user clicks (reduces basic scraper spam)
        const emailBtn = document.getElementById("emailBtn");
        emailBtn.addEventListener("click", () => {
          const addr = `${EMAIL_USER}@${EMAIL_DOMAIN}`;
          const subject = encodeURIComponent("Finnish Passphrase Generator – Support");
          const body = encodeURIComponent(
            "Hi!\n\n" +
            "App version:\nDevice:\niOS version:\n\n" +
            "Question / issue:\n\n"
          );
          window.location.href = `mailto:${addr}?subject=${subject}&body=${body}`;
        });
      });

      // Optional: lightweight friction before sending users to Issues
      function goToIssues(){
        const ok = confirm(
          "Before opening an Issue, please:\n" +
          "• Check the FAQ on this page\n" +
          "• Include device + iOS + app version\n\n" +
          "Continue to GitHub Issues?"
        );
        if(ok) window.open(issuesUrl, "_blank", "noopener,noreferrer");
      }
    </script>

    <div class="grid">

      <section class="card">
        <h2>About the App</h2>
        <p>
          Finnish Passphrase Generator creates a <strong>passphrase</strong> — a password made from multiple random Finnish words.
          You can tune word count, maximum word length, and formatting options.
        </p>
        <ul>
          <li>Generate memorable passphrases using Finnish words</li>
          <li>Works offline</li>
          <li>Copy to clipboard</li>
          <li>Premium unlock for advanced options</li>
        </ul>

        <div class="buttons">
          <a class="button secondary" data-repo target="_blank" rel="noopener noreferrer nofollow">View GitHub Repo</a>
          <a class="button secondary" data-releases target="_blank" rel="noopener noreferrer nofollow">Changelog / Releases</a>
        </div>

        <p class="muted small" style="margin-top:10px;">
          Repo: <span class="chip" id="repoName"></span>
        </p>
      </section>

      <section class="card">
        <h2>Contact Support</h2>
        <p class="muted">
          To reduce spam, this page does not expose a plain-text email address.
          Use the button below to open your email app.
        </p>

        <div class="buttons">
          <button id="emailBtn" class="button">Email Support</button>
          <button class="button secondary" onclick="goToIssues()">Open GitHub Issues</button>
        </div>

        <p class="muted small" style="margin-top:10px;">
          Tip: For bug reports include <span class="chip">device</span>, <span class="chip">iOS version</span>, and <span class="chip">app version</span>.
        </p>
      </section>

      <section class="card">
        <h2>Dictionary License (Kotus)</h2>
        <p>
          This app uses the Kotus Finnish word list (Nykysuomen sanalista, version 1).
        </p>
        <p class="muted">
          The word list is licensed under the GNU LGPL. Attribution and license text are included in the app.
        </p>

        <div class="buttons">
          <a class="button secondary" href="http://www.kotus.fi" target="_blank" rel="noopener noreferrer nofollow">Kotus website</a>
        </div>
      </section>

      <section class="card">
        <h2>Privacy Policy</h2>
        <p>
          Read the privacy policy here:
          <a href="privacy.html" rel="nofollow">privacy.html</a>
        </p>
        <p class="muted small">
          (Short and clear: the app works offline and does not require accounts.)
        </p>
      </section>

    </div>

    <section class="card" style="margin-top:14px;">
      <h2>FAQ / Troubleshooting</h2>

      <details>
        <summary>“No words available” when generating</summary>
        <p class="muted" style="margin-top:8px;">
          Try increasing maximum word length or wait until the dictionary has finished loading.
        </p>
      </details>

      <details style="margin-top:10px;">
        <summary>Premium purchase does not unlock</summary>
        <p class="muted" style="margin-top:8px;">
          Use “Restore purchases” on a real device (not Simulator). If it still fails, contact support.
        </p>
      </details>

      <details style="margin-top:10px;">
        <summary>Clipboard / copying</summary>
        <p class="muted" style="margin-top:8px;">
          Tap “Copy” in the app. iOS may also show clipboard permission prompts depending on version.
        </p>
      </details>

      <div class="note muted small" style="margin-top:12px;">
        Note: No static website can fully block scrapers/bots. This page reduces spam by avoiding plain email text and direct “create issue” links.
      </div>
    </section>

  </div>
</main>

<footer>
  &copy; <span id="year"></span> Finnish Passphrase Generator · Static support page.
  <script>document.getElementById("year").textContent = new Date().getFullYear();</script>
</footer>

</body>
</html>
